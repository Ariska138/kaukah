(window.webpackJsonp=window.webpackJsonp||[]).push([[107],{625:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n(21),n(33),n(11);var r=n(76),o=n(102),c=function(t,e,n){var text,c=t.store;switch(e.discountType){case"fixed":text=Object(o.a)(c,e.discountValue);break;case"amount":text=Object(r.a)(c,"PROMOTION_RP_COND_NIL").replace("$1",Object(o.a)(c,e.discountValue));break;case"percentage":text=Object(r.a)(c,"PROMOTION_RP_COND_NIL").replace("$1","".concat(e.discountValue,"%"));break;default:text=e.discountType}return n?text:"".concat(Object(r.a)(c,"PRODUCT_BUNDLE"),", ").concat(text)}},647:function(t,e,n){"use strict";n(20),n(35),n(39),n(31),n(11),n(17),n(28);var r=n(605),o=n(625),c=n(111),l={components:{StaticImage:r.a,AnimatedImage:function(){return Promise.resolve().then(n.bind(null,686))}},props:{productBundle:Object,index:Number,catalogStyle:String,effect:String},computed:{path:function(){if(!this.$store.getters["app/isEditing"])return this.productBundle.id?this.$path("/bundles/".concat(this.productBundle.id,"/").concat(Object(c.a)(this.productBundle.name))):"#"},images:function(){return(this.productBundle.images||[]).map((function(i){return i.url}))},multiImages:function(){return this.images.length>1},animated:function(){return this.multiImages&&"animate"==this.effect},imageComponent:function(){return this.multiImages&&"hover"!=this.effect?"AnimatedImage":"StaticImage"},imageAspectRatio:function(){var t=this.$store.getters["theme/productImageRatio"];return{ratio:t,padding:Math.round(100/t)}},elevationClass:function(){switch(this.catalogStyle){case"original":return""}return"elevation-0"},borderClass:function(){switch(this.catalogStyle){case"original":return""}return"rounded-0"},cardStyle:function(){return"original"==this.catalogStyle?{}:{"background-color":"transparent"}},multiImageStyle:function(){return this.multiImages?{"padding-bottom":"".concat(this.imageAspectRatio.padding,"%")}:{}}},methods:{bundleText:function(t){return Object(o.a)({store:this.$store},t)}}},d=n(18),m=n(26),f=n.n(m),h=n(230),v=n(567),w=n(568),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"o-hidden",class:[t.elevationClass,t.borderClass],style:t.cardStyle,attrs:{ripple:!t.multiImages,route:"",to:t.path}},[n("div",{staticClass:"p-relative",style:t.multiImageStyle},[n(t.imageComponent,{tag:"component",class:{overlay:t.multiImages},attrs:{images:t.images,"aspect-ratio":t.imageAspectRatio.ratio,index:t.index,animated:t.animated,effect:t.effect}})],1),t._v(" "),n("v-layout",{staticClass:"px-2 pt-2 pb-6",attrs:{column:""}},[n("v-flex",{staticClass:"display-1 lines-1 flex--wrap"},[t._v("\n            "+t._s(t.productBundle.name)+"\n        ")]),t._v(" "),n("div",[n("div",{staticClass:"badge primary"},[t._v("\n                "+t._s(t.bundleText(t.productBundle))+"\n            ")])])],1)],1)}),[],!1,null,null,null);e.a=component.exports;f()(component,{VCard:h.a,VFlex:v.a,VLayout:w.a})},664:function(t,e,n){"use strict";n.r(e);var r=n(0),o=(n(21),n(33),n(17),n(11),n(16),n(647)),c=n(581),l={components:{CatalogBundle:o.a},mixins:[c.a],props:{wide:Boolean,catalogStyle:String,effect:String,showViewAllButton:Boolean,viewAllPath:String,viewAllButtonText:String},data:function(){return{pageLimit:24}},fetch:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.restore(t.bundleRestoreKey);case 2:e.sent||t.pageCache(t.bundleRestoreKey);case 4:case"end":return e.stop()}}),e)})))()},computed:{vendor:function(){return this.$store.getters["vendor/vendor"]},routeName:function(){return this.$route.name.replace("domain-","")},bundleRestoreKey:function(){return"".concat(this.routeName,"-").concat(this.vendor.id)},catalogClass:function(){var t="catalog-".concat(this.catalogStyle);switch(this.catalogStyle){case"collage":return"".concat(t," px-2")}return"".concat(t," catalog-grid-spacing")}},methods:{onIntersect:function(t,e){t[0].isIntersecting&&this.nextPage()},nextPage:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.reload();case 2:case"end":return e.stop()}}),e)})))()},reload:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pageLoad();case 2:t.pageCache(t.bundleRestoreKey);case 3:case"end":return e.stop()}}),e)})))()},pagePromise:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Object.assign(t,{order:"desc",sortby:"id"}),n.next=3,e.$axios.get("/shop/".concat(e.$store.state.vendor.vendor.id,"/productBundles"),{params:t});case 3:return r=n.sent,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()}}},d=n(18),m=n(26),f=n.n(m),h=n(558),v=n(567),w=n(568),x=n(242),y=n.n(x),_=n(110),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{staticClass:"px-1",class:t.catalogClass,attrs:{wrap:""}},t._l(t.pageItems,(function(e){return n("v-flex",{key:e.id,class:{sm4:!t.wide,sm3:t.wide},attrs:{xs6:""}},[n("CatalogBundle",{attrs:{"catalog-style":t.catalogStyle,effect:t.effect,"product-bundle":e}})],1)})),1),t._v(" "),t.pageLoading?n("ProgressView",{staticClass:"mt-4"}):t.pageHasMore&&!t.showViewAllButton?n("div",{staticClass:"pt-4 px-2"},[n("btn-default",{directives:[{name:"intersect",rawName:"v-intersect",value:t.onIntersect,expression:"onIntersect"}],attrs:{block:""},on:{click:t.nextPage}},[t._v("\n            "+t._s(t.$t("VIEW_MORE"))+"\n        ")])],1):t.showViewAllButton?n("div",{staticClass:"mb-4 text-center"},[t.pageHasMore?n("v-btn",{staticClass:"mt-4 mb-8",attrs:{color:"primary",to:{path:t.viewAllPath}}},[t.viewAllButtonText?[t._v("\n                "+t._s(t.viewAllButtonText)+"\n            ")]:[t._v("\n                "+t._s(t.$t("VIEW_ALL"))+"\n            ")]],2):t._e()],1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;f()(component,{VBtn:h.a,VFlex:v.a,VLayout:w.a}),y()(component,{Intersect:_.a})}}]);